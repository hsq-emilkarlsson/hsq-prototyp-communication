<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Husqvarna - Meddelandemallar</title>
  <style>
    :root {
      --husqvarna-orange: #FF6B00;
      --husqvarna-dark: #273A60;
      --husqvarna-light-gray: #f5f5f5;
      --husqvarna-gray: #BEBEBE;
      --husqvarna-border: #E0E0E0;
      --husqvarna-blue: #273A60;
      --husqvarna-green: #5EC577;
    }
    
    body {
      font-family: 'Helvetica Neue', Arial, sans-serif;
      background-color: var(--husqvarna-light-gray);
      margin: 0;
      padding: 0;
      color: var(--husqvarna-dark);
    }
    
    .dashboard-container {
      display: flex;
      min-height: 100vh;
    }
    
    .sidebar {
      width: 250px;
      background-color: var(--husqvarna-dark);
      color: white;
      padding-top: 20px;
      flex-shrink: 0;
    }
    
    .logo-container {
      padding: 0 20px 20px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      margin-bottom: 20px;
    }
    
    .logo {
      max-width: 100%;
      height: 60px;
    }
    
    .nav-menu {
      list-style-type: none;
      padding: 0;
      margin: 0;
    }
    
    .nav-menu li {
      margin-bottom: 5px;
    }
    
    .nav-menu a {
      display: flex;
      align-items: center;
      padding: 12px 20px;
      color: rgba(255, 255, 255, 0.85);
      text-decoration: none;
      transition: all 0.2s;
    }
    
    .nav-menu a:hover {
      background-color: rgba(255, 255, 255, 0.1);
      color: white;
    }
    
    .nav-menu a.active {
      background-color: var(--husqvarna-orange);
      color: white;
      position: relative;
    }
    
    .nav-menu a.active::before {
      content: "";
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 4px;
      background-color: white;
    }
    
    .main-content {
      flex-grow: 1;
      padding: 20px;
    }
    
    .page-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
    }
    
    .page-header h1 {
      margin: 0;
      font-weight: 500;
      font-size: 24px;
    }
    
    .btn {
      background-color: var(--husqvarna-orange);
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 4px;
      cursor: pointer;
      text-decoration: none;
      display: inline-block;
    }
    
    .btn:hover {
      background-color: #e05e00;
    }
    
    .btn-secondary {
      background-color: var(--husqvarna-blue);
    }
    
    .btn-secondary:hover {
      background-color: #1a294c;
    }
    
    .templates-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
      gap: 20px;
    }
    
    .template-card {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      overflow: hidden;
    }
    
    .template-header {
      padding: 15px;
      border-bottom: 1px solid var(--husqvarna-border);
    }
    
    .template-title {
      margin: 0;
      font-weight: 500;
    }
    
    .template-type {
      color: #777;
      font-size: 14px;
    }
    
    .template-preview {
      padding: 15px;
      min-height: 120px;
      border-bottom: 1px solid var(--husqvarna-border);
    }
    
    .template-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      padding: 15px;
    }
    
    .tag {
      font-size: 12px;
      background-color: var(--husqvarna-light-gray);
      padding: 4px 8px;
      border-radius: 4px;
    }
    
    .template-actions {
      display: flex;
      padding: 15px;
      justify-content: space-between;
    }
    
    .ai-translate-dialog {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
      width: 500px;
      max-width: 90%;
      z-index: 100;
      display: none;
    }
    
    .dialog-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    
    .dialog-header h3 {
      margin: 0;
    }
    
    .close-dialog {
      background: none;
      border: none;
      cursor: pointer;
      font-size: 20px;
    }
    
    .language-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin-bottom: 20px;
    }
    
    .language-option {
      display: flex;
      align-items: center;
    }
    
    .language-option input {
      margin-right: 5px;
    }
    
    .dialog-footer {
      display: flex;
      justify-content: flex-end;
      gap: 10px;
      margin-top: 20px;
    }
    
    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.5);
      z-index: 99;
      display: none;
    }
    
    footer {
      background-color: var(--husqvarna-dark);
      color: white;
      padding: 20px;
      text-align: center;
      margin-top: auto;
    }

    .filter-bar {
      display: flex;
      gap: 15px;
      margin-bottom: 20px;
      align-items: center;
    }
    
    .filter-group {
      display: flex;
      flex-direction: column;
    }
    
    .filter-group label {
      font-size: 12px;
      margin-bottom: 5px;
    }
    
    .filter-group select {
      padding: 8px 12px;
      border: 1px solid var(--husqvarna-border);
      border-radius: 4px;
    }
    
    .badge {
      display: inline-block;
      padding: 3px 8px;
      border-radius: 10px;
      font-size: 12px;
      font-weight: 500;
    }
    
    .badge-central {
      background-color: #e3f2fd;
      color: #1976d2;
    }
    
    .badge-localization {
      background-color: #fff3e0;
      color: #e65100;
    }
    
    .badge-ready {
      background-color: #e8f5e9;
      color: #388e3c;
    }
    
    .market-tags {
      margin-top: 10px;
    }
    
    .market-tag {
      display: inline-block;
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 11px;
      background-color: #e3f2fd;
      color: #1976d2;
      margin-right: 5px;
      margin-bottom: 5px;
    }
    
    .translation-preview {
      background-color: #f9f9f9;
      border-radius: 4px;
      padding: 10px;
      margin-top: 10px;
      border-left: 3px solid var(--husqvarna-blue);
      font-size: 14px;
    }
    
    .tabs {
      display: flex;
      border-bottom: 1px solid var(--husqvarna-border);
      margin-bottom: 15px;
    }
    
    .tab {
      padding: 10px 15px;
      cursor: pointer;
    }
    
    .tab.active {
      font-weight: 500;
      border-bottom: 2px solid var(--husqvarna-orange);
    }
    
    .template-actions {
      display: flex;
      padding: 15px;
      justify-content: space-between;
    }
    
    .action-buttons {
      display: flex;
      gap: 8px;
    }
    
    .approval-steps {
      display: flex;
      align-items: center;
      padding: 10px 15px;
      background-color: #f9f9f9;
      border-radius: 4px;
      margin-bottom: 15px;
    }
    
    .step {
      flex: 1;
      text-align: center;
      position: relative;
    }
    
    .step:not(:last-child)::after {
      content: "";
      position: absolute;
      top: 50%;
      right: 0;
      width: 100%;
      height: 2px;
      background-color: var(--husqvarna-border);
      z-index: 1;
    }
    
    .step-circle {
      display: inline-block;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background-color: var(--husqvarna-border);
      color: white;
      text-align: center;
      line-height: 24px;
      font-size: 12px;
      position: relative;
      z-index: 2;
    }
    
    .step.active .step-circle {
      background-color: var(--husqvarna-orange);
    }
    
    .step.completed .step-circle {
      background-color: var(--husqvarna-green);
    }
    
    .step-label {
      font-size: 12px;
      margin-top: 5px;
    }

    .action-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .action-tag {
      font-size: 13px;
      padding: 4px 8px;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.2s;
      user-select: none;
    }

    .action-tag.ai-translate {
      background-color: #e3f2fd;
      color: #1976d2;
    }

    .action-tag.ai-translate:hover {
      background-color: #bbdefb;
    }

    .action-tag.adapt {
      background-color: #fff3e0;
      color: #e65100;
    }

    .action-tag.adapt:hover {
      background-color: #ffe0b2;
    }

    .action-tag.preview {
      background-color: #e8f5e9;
      color: #2e7d32;
    }

    .action-tag.preview:hover {
      background-color: #c8e6c9;
    }

    .action-tag.publish {
      background-color: #ffebee;
      color: #c62828;
    }

    .action-tag.publish:hover {
      background-color: #ffcdd2;
    }

    .action-tag.fast-track {
      background-color: #fce4ec;
      color: #ad1457;
    }

    .action-tag.fast-track:hover {
      background-color: #f8bbd0;
    }
  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
  <div class="dashboard-container">
    <div class="sidebar">
      <div class="logo-container">
        <a href="../index.html">
          <img src="https://portal.husqvarnagroup.com/static/b2b/assets/with-name.e34798d1.svg" alt="Husqvarna" class="logo">
        </a>
      </div>
      <ul class="nav-menu">
        <li><a href="message-templates.html" class="active"><i class="fas fa-file-alt" style="margin-right: 12px;"></i><span>Publicera</span></a></li>
        <li><a href="create-message.html"><i class="fas fa-paper-plane" style="margin-right: 12px;"></i><span>Posta</span></a></li>
        <li><a href="message-analytics.html"><i class="fas fa-chart-line" style="margin-right: 12px;"></i><span>Analytics</span></a></li>
      </ul>
    </div>
    
    <div class="main-content">
      <div class="page-header">
        <h1>Meddelandemallar</h1>
        <button class="btn">+ Skapa ny mall</button>
      </div>
      
      <div class="filter-bar">
        <div class="filter-group">
          <label>Visa mallar för</label>
          <select id="marketFilter">
            <option value="all">Alla marknader</option>
            <option value="sweden">Sverige</option>
            <option value="norway">Norge</option>
            <option value="denmark">Danmark</option>
            <option value="finland">Finland</option>
            <option value="germany">Tyskland</option>
            <option value="france">Frankrike</option>
          </select>
        </div>
        
        <div class="filter-group">
          <label>Kategori</label>
          <select id="categoryFilter">
            <option value="all">Alla kategorier</option>
            <option value="marketing">Marketing</option>
            <option value="support">Support</option>
            <option value="service">Service</option>
            <option value="security">Security</option>
          </select>
        </div>
        
        <div class="filter-group">
          <label>Status</label>
          <select id="statusFilter">
            <option value="all">Alla status</option>
            <option value="central">Centrala mallar</option>
            <option value="localization">Behöver lokalisering</option>
            <option value="ready">Klara för publicering</option>
            <option value="published">Publicerade</option>
          </select>
        </div>
      </div>
      
      <div class="tabs">
        <div class="tab active" onclick="switchTab(this, 'central')">Centrala mallar</div>
        <div class="tab" onclick="switchTab(this, 'localization')">Kräver lokalisering (5)</div>
        <div class="tab" onclick="switchTab(this, 'ready')">Klara för publicering (3)</div>
        <div class="tab" onclick="switchTab(this, 'published')">Publicerade</div>
      </div>
      
      <div class="templates-grid">
        <!-- Exempel på central mall som behöver översättas och lokaliseras -->
        <div class="template-card">
          <div class="template-header">
            <h3 class="template-title">Produktlansering Q2 2025</h3>
            <span class="template-type">
              Marketing
              <span class="action-tag ai-translate">Central</span>
            </span>
          </div>
          <div class="template-preview">
            <p>Vi är glada att presentera vår nya produktlinje för Q2 2025 som nu finns tillgänglig för beställning. De nya modellerna har förbättrad prestanda och längre batteritid. Kontakta din säljrepresentant för mer information.</p>
          </div>
          <div class="template-tags">
            <span class="tag">Produktnyhet</span>
            <span class="tag">B2B</span>
            <span class="tag">Prioritet: Hög</span>
          </div>
          <div class="template-actions">
            <div class="market-tags">
              <span class="market-tag">Global</span>
            </div>
            <div class="action-tags">
              <span class="action-tag ai-translate" onclick="showTranslateDialog('produktlansering')">AI-översätt</span>
              <span class="action-tag adapt" onclick="useTemplate('produktlansering', 'Produktlansering Q2 2025')">Anpassa lokalt</span>
            </div>
          </div>
        </div>
        
        <!-- Exempel på mall under lokalisering med påbörjad AI-översättning -->
        <div class="template-card">
          <div class="template-header">
            <h3 class="template-title">Support-uppdatering</h3>
            <span class="template-type">
              Support
              <span class="action-tag adapt">Lokalisering</span>
            </span>
          </div>
          <div class="template-preview">
            <p>Vi har uppdaterat våra supporttider för att bättre möta era behov. Nya öppettider är måndag-fredag 08:00-18:00.</p>
            
            <div class="translation-preview">
              <strong>Engelska:</strong> We have updated our support hours to better serve your needs. New opening hours are Monday-Friday 08:00-18:00.
            </div>
          </div>
          <div class="template-tags">
            <span class="tag">Support</span>
            <span class="tag">Information</span>
            <span class="tag">Prioritet: Medium</span>
          </div>
          <div class="template-actions">
            <div class="market-tags">
              <span class="market-tag">Sverige</span>
              <span class="market-tag">Norge</span>
              <span class="market-tag">+2</span>
            </div>
            <div class="action-tags">
              <span class="action-tag ai-translate" onclick="showTranslateDialog('support')">Fortsätt översätt</span>
              <span class="action-tag adapt" onclick="useTemplate('support', 'Support-uppdatering')">Slutför lokalisering</span>
            </div>
          </div>
        </div>
        
        <!-- Exempel på mall som är klar för publicering -->
        <div class="template-card">
          <div class="template-header">
            <h3 class="template-title">Servicemeddelande</h3>
            <span class="template-type">
              Service
              <span class="action-tag publish">Redo att publicera</span>
            </span>
          </div>
          <div class="template-preview">
            <p>Vi vill informera om att vår onlineportal kommer vara otillgänglig för underhåll mellan kl. 22:00-01:00 denna fredag.</p>
          </div>
          <div class="template-tags">
            <span class="tag">Underhåll</span>
            <span class="tag">Service</span>
            <span class="tag">Prioritet: Medium</span>
          </div>
          <div class="template-actions">
            <div class="market-tags">
              <span class="market-tag">Sverige</span>
              <span class="market-tag">Norge</span>
              <span class="market-tag">Finland</span>
              <span class="market-tag">Danmark</span>
              <span class="market-tag">+4</span>
            </div>
            <div class="action-tags">
              <span class="action-tag preview" onclick="previewMessage('servicemeddelande')">Förhandsgranska</span>
              <span class="action-tag publish" onclick="publishMessage('servicemeddelande')">Publicera</span>
            </div>
          </div>
        </div>
        
        <!-- Exempel på kritiskt säkerhetsmeddelande -->
        <div class="template-card">
          <div class="template-header">
            <h3 class="template-title">Säkerhetsnotis</h3>
            <span class="template-type">
              Security
              <span class="action-tag ai-translate">Central</span>
            </span>
          </div>
          <div class="template-preview">
            <p>Vi har noterat en säkerhetsrisk med modell XYZ. Vänligen kontakta support omgående för att få instruktioner om hur detta ska åtgärdas.</p>
          </div>
          <div class="template-tags">
            <span class="tag">Säkerhet</span>
            <span class="tag">Kritisk</span>
            <span class="tag">Prioritet: Akut</span>
          </div>
          <div class="template-actions">
            <div class="market-tags">
              <span class="market-tag">Global</span>
            </div>
            <div class="action-tags">
              <span class="action-tag ai-translate" onclick="showTranslateDialog('sakerhet')">Snabböversätt alla</span>
              <span class="action-tag fast-track" onclick="fastTrackTemplate('sakerhet')">Snabbhantera (kritisk)</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- AI Translate Dialog - Utökad med förhandsgranskning -->
  <div class="overlay" id="overlay"></div>
  <div class="ai-translate-dialog" id="translateDialog">
    <div class="dialog-header">
      <h3>AI-översätt meddelande</h3>
      <button class="close-dialog" onclick="hideTranslateDialog()">&times;</button>
    </div>
    
    <p>Välj språk för översättning:</p>
    
    <div class="language-grid">
      <div class="language-option">
        <input type="checkbox" id="lang-en" checked>
        <label for="lang-en">Engelska</label>
      </div>
      <div class="language-option">
        <input type="checkbox" id="lang-de">
        <label for="lang-de">Tyska</label>
      </div>
      <div class="language-option">
        <input type="checkbox" id="lang-fr">
        <label for="lang-fr">Franska</label>
      </div>
      <div class="language-option">
        <input type="checkbox" id="lang-es">
        <label for="lang-es">Spanska</label>
      </div>
      <div class="language-option">
        <input type="checkbox" id="lang-it">
        <label for="lang-it">Italienska</label>
      </div>
      <div class="language-option">
        <input type="checkbox" id="lang-nl">
        <label for="lang-nl">Nederländska</label>
      </div>
      <div class="language-option">
        <input type="checkbox" id="lang-da">
        <label for="lang-da">Danska</label>
      </div>
      <div class="language-option">
        <input type="checkbox" id="lang-no">
        <label for="lang-no">Norska</label>
      </div>
      <div class="language-option">
        <input type="checkbox" id="lang-fi">
        <label for="lang-fi">Finska</label>
      </div>
    </div>
    
    <div class="filter-group" style="margin-top: 15px;">
      <label>Välj målmarknader</label>
      <select multiple size="4" style="width: 100%;">
        <option value="se">Sverige</option>
        <option value="no">Norge</option>
        <option value="dk">Danmark</option>
        <option value="fi">Finland</option>
        <option value="de">Tyskland</option>
        <option value="fr">Frankrike</option>
        <option value="nl">Nederländerna</option>
        <option value="it">Italien</option>
        <option value="es">Spanien</option>
      </select>
    </div>
    
    <div style="margin-top: 15px;">
      <label><input type="checkbox" id="auto-localize"> Skapa lokal anpassningsmöjlighet efter översättning</label>
    </div>
    
    <div class="dialog-footer">
      <button class="btn btn-secondary" onclick="hideTranslateDialog()">Avbryt</button>
      <button class="btn" onclick="startTranslation()">Starta översättning</button>
    </div>
  </div>
  
  <!-- Förhandsgranskningsdialog för översättningsresultat -->
  <div class="ai-translate-dialog" id="previewDialog" style="display: none; width: 700px;">
    <div class="dialog-header">
      <h3>Förhandsgranskning av översättningar</h3>
      <button class="close-dialog" onclick="hidePreviewDialog()">&times;</button>
    </div>
    
    <div style="max-height: 400px; overflow-y: auto; margin: 15px 0;">
      <div style="margin-bottom: 20px;">
        <h4 style="margin: 0 0 10px 0;">Svenska (original)</h4>
        <div style="background-color: #f9f9f9; padding: 10px; border-radius: 4px;">
          Vi är glada att presentera vår nya produktlinje för Q2 2025 som nu finns tillgänglig för beställning. De nya modellerna har förbättrad prestanda och längre batteritid. Kontakta din säljrepresentant för mer information.
        </div>
      </div>
      
      <div style="margin-bottom: 20px;">
        <h4 style="margin: 0 0 10px 0;">Engelska <button class="btn btn-secondary" style="font-size: 12px; padding: 3px 8px; float: right;">Redigera</button></h4>
        <div style="background-color: #f9f9f9; padding: 10px; border-radius: 4px;">
          We are excited to present our new product line for Q2 2025 which is now available for ordering. The new models have improved performance and longer battery life. Please contact your sales representative for more information.
        </div>
      </div>
      
      <div style="margin-bottom: 20px;">
        <h4 style="margin: 0 0 10px 0;">Tyska <button class="btn btn-secondary" style="font-size: 12px; padding: 3px 8px; float: right;">Redigera</button></h4>
        <div style="background-color: #f9f9f9; padding: 10px; border-radius: 4px;">
          Wir freuen uns, unsere neue Produktlinie für Q2 2025 vorzustellen, die jetzt zur Bestellung verfügbar ist. Die neuen Modelle bieten verbesserte Leistung und längere Akkulaufzeit. Bitte wenden Sie sich an Ihren Vertriebsmitarbeiter für weitere Informationen.
        </div>
      </div>
      
      <div style="margin-bottom: 20px;">
        <h4 style="margin: 0 0 10px 0;">Franska <button class="btn btn-secondary" style="font-size: 12px; padding: 3px 8px; float: right;">Redigera</button></h4>
        <div style="background-color: #f9f9f9; padding: 10px; border-radius: 4px;">
          Nous sommes heureux de présenter notre nouvelle gamme de produits pour le deuxième trimestre 2025 qui est maintenant disponible à la commande. Les nouveaux modèles offrent des performances améliorées et une durée de batterie plus longue. Veuillez contacter votre représentant commercial pour plus d'informations.
        </div>
      </div>
    </div>
    
    <div class="dialog-footer">
      <button class="btn btn-secondary" onclick="hidePreviewDialog()">Stäng</button>
      <button class="btn" onclick="approveTranslations()">Godkänn alla översättningar</button>
    </div>
  </div>
  
  <footer>
    <p>&copy; 2025 Husqvarna Group. Alla rättigheter förbehållna.</p>
  </footer>
  
  <script>
    function showTranslateDialog(templateId) {
      // Spara vilken mall som ska översättas
      sessionStorage.setItem('templateToTranslate', templateId);
      document.getElementById('overlay').style.display = 'block';
      document.getElementById('translateDialog').style.display = 'block';
    }
    
    function hideTranslateDialog() {
      document.getElementById('overlay').style.display = 'none';
      document.getElementById('translateDialog').style.display = 'none';
    }
    
    function startTranslation() {
      // Simulera översättning
      hideTranslateDialog();
      setTimeout(() => {
        document.getElementById('overlay').style.display = 'block';
        document.getElementById('previewDialog').style.display = 'block';
      }, 1000);
    }
    
    function hidePreviewDialog() {
      document.getElementById('overlay').style.display = 'none';
      document.getElementById('previewDialog').style.display = 'none';
    }
    
    function approveTranslations() {
      hidePreviewDialog();
      alert('Översättningar godkända och redo för lokal anpassning!');
    }
    
    function useTemplate(templateId, templateName) {
      // Spara mallen tillfälligt i sessionStorage
      sessionStorage.setItem('selectedTemplate', templateId);
      sessionStorage.setItem('templateName', templateName);
      
      // Navigera till sidan för att skapa meddelande
      window.location.href = "create-message.html";
    }
    
    function previewMessage(templateId) {
      alert('Förhandsvisar meddelande: ' + templateId);
    }
    
    function publishMessage(templateId) {
      alert('Publicerar meddelande: ' + templateId + ' till valda marknader');
    }
    
    function fastTrackTemplate(templateId) {
      alert('Snabbhanterar kritisk mall: ' + templateId + ' - översätter och publicerar till alla marknader efter godkännande');
    }
    
    function switchTab(element, tabName) {
      // Ta bort aktiv klass från alla flikar
      document.querySelectorAll('.tab').forEach(tab => {
        tab.classList.remove('active');
      });
      
      // Lägg till aktiv klass på den klickade fliken
      element.classList.add('active');
      
      // Här skulle vi filtrera mallarna baserat på tabName
      console.log('Växlar till flik:', tabName);
    }
  </script>
</body>
</html>